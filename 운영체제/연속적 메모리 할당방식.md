# 연속적 메모리 분할 방식

- ### 고정 분할 방식
  - 물리적 메모리를 주어진 개수만큼의 영구적인 분할로 미리 나누어두고 각 분할에 하나의 프로세스를 적재
- ### 가변 분할 방식
  - 메모리에 적재되는 프로그램의 크기에 따라 분할의 크기, 개수가 동적으로 변하는 방식이다.
  - 프로세스를 교체하는 과정에서 이전 보다 작은 메모리 공간을 사용하는 프로세스가 적재되는 경우 Hole이 발생하고 이 구멍들이 만들어지는 현상을 외부 단편화라고 한다.
  - 외부 단편화가 발생할 수 있고, 이를 해결하기 위해 Compaction 작업을 해 남는 메모리 공간을 합쳐서 연속적인 공간으로 만들 수 있다.
  - 하지만 compaction 작업을 하게 되면 메모리 공간을 copy해야 하기 때문에 성능이 좋지 않다.
  <hr>

## 메모리 배치 방식

- First-fit, Best-fit, Worst-fit의 세가지 방법이 있다.

- 프로세스 K가 메모리를 할당 받기 전 그림이다.

  ![[https://velog.io/@chappi/OS는-할껀데-핵심만-합니다.-13편-가변-분할-메모리와-고정-분할-메모리-단편화](https://velog.io/@chappi/OS%EB%8A%94-%ED%95%A0%EA%BB%80%EB%8D%B0-%ED%95%B5%EC%8B%AC%EB%A7%8C-%ED%95%A9%EB%8B%88%EB%8B%A4.-13%ED%8E%B8-%EA%B0%80%EB%B3%80-%EB%B6%84%ED%95%A0-%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%99%80-%EA%B3%A0%EC%A0%95-%EB%B6%84%ED%95%A0-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%8B%A8%ED%8E%B8%ED%99%94)](https://velog.velcdn.com/images/chappi/post/d9df5134-d13f-4290-b7e3-9aa85a7f19af/8.png)

  [https://velog.io/@chappi/OS는-할껀데-핵심만-합니다.-13편-가변-분할-메모리와-고정-분할-메모리-단편화](https://velog.io/@chappi/OS%EB%8A%94-%ED%95%A0%EA%BB%80%EB%8D%B0-%ED%95%B5%EC%8B%AC%EB%A7%8C-%ED%95%A9%EB%8B%88%EB%8B%A4.-13%ED%8E%B8-%EA%B0%80%EB%B3%80-%EB%B6%84%ED%95%A0-%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%99%80-%EA%B3%A0%EC%A0%95-%EB%B6%84%ED%95%A0-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%8B%A8%ED%8E%B8%ED%99%94)

  - ## First - fit

    - 요청한 크기를 만족하는 첫 번째 가용 공간을 할당하는 방법. 검색의 시작점은 알고리즘에 따라 다르며, 검색 속도가 빠르다는 특징이 있다.
    - 위 그림에서 첫 번째 빈공간에 들어가게 되는데 이러면 35 - 33 = 2kb의 차이만큼 외부 단편화가 발생한다.

  - ## Best - fit

    <img src="https://velog.velcdn.com/images/chappi/post/79705a36-ca6e-4890-9d4e-ddd0bf21ca3d/9.png" width="400px">

    https://velog.io/@chappi/OS는-할껀데-핵심만-합니다.-13편-가변-분할-메모리와-고정-분할-메모리-단편화

    - 요청한 크기를 만족하는 가용 공간 중에서 가장 작은 것을 할당하고, 분할되어 남은 가용 공간 크기를 최소화 한다.
    - 위 그림과 같이 마지막 빈공간에 들어가게 되어 외부 단편화가 최소화 된다.

  - ## Worst - fit

    - 가장 큰 가용 공간을 할당하는 방법으로 분할되어 남는 가용 공간이 커서 활용 가능성이 높다. 검색 속도가 느리고 메모리 이용 효율이 좋지 않다.
    - 위 그림에서 첫 번째 빈공간에 들어가게 되는데 이러면 35 - 33 = 2kb의 차이만큼 외부 단편화가 발생한다.

## worst-fit 은 언제 사용할 수 있을까요?

- 속도보다 메모리 낭비가 적어야 하는 상황에 사용할 수 있습니다.

## 성능이 가장 좋은 알고리즘은 무엇일까요?

- **First-fit** 알고리즘은 메모리 할당 속도와 메모리 낭비 사이에서 좋은 균형을 제공하므로 성능이 가장 좋습니다. **Best-fit** 알고리즘은 메모리 낭비가 적지만 메모리 할당 속도가 느립니다. **Worst-fit** 알고리즘은 메모리 낭비가 가장 적지만 메모리 할당 속도가 가장 느립니다.
